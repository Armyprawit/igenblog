function addtag(e,t){var a=document.getElementById(e);switch(beforeText=a.value.substring(0,a.selectionStart),selectedText=a.value.substring(a.selectionStart,a.selectionEnd),afterText=a.value.substring(a.selectionEnd,a.value.length),t){case"h1":tagOpen="<h1>",tagClose="</h1>",newText=beforeText+tagOpen+selectedText+tagClose+afterText;break;case"h2":tagOpen="<h2>",tagClose="</h2>",newText=beforeText+tagOpen+selectedText+tagClose+afterText;break;case"p":tagOpen="<p>",tagClose="</p>",newText=beforeText+tagOpen+selectedText+tagClose+afterText;break;case"b":tagOpen="<strong>",tagClose="</strong>",newText=beforeText+tagOpen+selectedText+tagClose+afterText;break;case"i":tagOpen="<em>",tagClose="</em>",newText=beforeText+tagOpen+selectedText+tagClose+afterText;break;case"photo":if(imgURL=prompt("ลิ้งรูปภาพ\nตัวอย่าง: http://www.example.com/image.jpg",""),imgALT=prompt("คำอธิบายรูปภาพ",""),null==imgURL)break;tagOpen='<figure><a class="fancybox" rel="group" href="'+imgURL+'" title="'+imgALT+'"><img src="'+imgURL+'" alt="'+imgALT+'"><figcaption>'+imgALT+"</figcaption>",tagClose="</a></figure>",newText=beforeText+tagOpen+selectedText+tagClose+afterText;break;case"youtube":if(vidURL=prompt("Youtube URL\nExample: http://www.youtube.com/watch?v=mozB6htR7mc",""),null==vidURL)break;var l=vidURL.indexOf("v=");vidURL=vidURL.substring(l+2,l+2+11),tagOpen='<iframe src="//www.youtube.com/embed/'+vidURL+'?version=3&amp&rel=0&showinfo=0&autohide=1&theme=light&autoplay=0" allowfullscreen>',tagClose="</iframe>",newText=beforeText+tagOpen+selectedText+tagClose+afterText;break;case"link":if(linkURL=prompt("Youtube URL\nExample: http://www.youtube.com/watch?v=mozB6htR7mc",""),linkTITLE=prompt("Youtube URL\nExample: http://www.youtube.com/watch?v=mozB6htR7mc",""),null==linkURL)break;tagOpen='<a href="'+linkURL+'" title="'+linkTITLE+'" target="_bank">',tagClose="</a>",newText=beforeText+tagOpen+selectedText+tagClose+afterText;break;case"url":var r=/http:\/\//i;if(url=prompt("Enter URL without http://\nExample: www.example.com",""),null==url)break;url.match(r)&&(url=url.replace("http://","")),tagOpen="[url="+url+"]",tagClose="[/url]",newText=beforeText+tagOpen+selectedText+tagClose+afterText;break;case"img":if(imgURL=prompt("Enter image URL without http://\nExample: www.example.com/image.jpg",""),null==imgURL)break;tagOpen="[img="+imgURL+"]",tagClose="[/img]",newText=beforeText+tagOpen+selectedText+tagClose+afterText}a.value=newText}
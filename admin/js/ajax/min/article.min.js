function createArticle(e,t,a,r,i,o){if(state=!0,showLiveView("close"),$("#console").animate({bottom:"0px"},800),create=!1,window.XMLHttpRequest)create=new XMLHttpRequest,create.overrideMimeType&&create.overrideMimeType("text/html");else if(window.ActiveXObject)try{create=new ActiveXObject("Msxml2.XMLHTTP")}catch(n){try{create=new ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}if(!create)return alert("Cannot create XMLHTTP instance"),!1;var s="process/process-article-create.php";a=a.replace(/\r?\n/g,"<br>");var c="image="+e+"&title="+t+"&context="+a+"&category="+r+"&keyword="+i+"&credit="+o;create.open("POST",s,!0),create.setRequestHeader("Content-type","application/x-www-form-urlencoded"),create.send(c),create.onreadystatechange=function(){3==create.readyState&&$("#console").html('<i class="fa fa-spinner fa-spin"></i> รอสักครู่...'),4==create.readyState&&($("#console").fadeIn(200).html(create.responseText),$("#console").delay(3e3).animate({bottom:"-50px"},500),toCreateArticle(),modeListArticle(),$("#categoryMode").val("0"))}}function editArticle(e,t,a,r,i,o,n){if(state=!0,showLiveView("close"),$("#console").animate({bottom:"0px"},800),edit=!1,window.XMLHttpRequest)edit=new XMLHttpRequest,edit.overrideMimeType&&edit.overrideMimeType("text/html");else if(window.ActiveXObject)try{edit=new ActiveXObject("Msxml2.XMLHTTP")}catch(s){try{edit=new ActiveXObject("Microsoft.XMLHTTP")}catch(s){}}if(!edit)return alert("Cannot edit XMLHTTP instance"),!1;var c="process/process-article-edit.php";r=r.replace(/\r?\n/g,"<br>");var d="id="+e+"&image="+t+"&title="+a+"&context="+r+"&category="+i+"&keyword="+o+"&credit="+n;edit.open("POST",c,!0),edit.setRequestHeader("Content-type","application/x-www-form-urlencoded"),edit.send(d),edit.onreadystatechange=function(){3==edit.readyState&&$("#console").html('<i class="fa fa-spinner fa-spin"></i> รอสักครู่...'),4==edit.readyState&&($("#console").fadeIn(200).html(edit.responseText),$("#console").delay(3e3).animate({bottom:"-50px"},400),toSelectArticle(e),modeListArticle())}}function statusArticle(e,t){if(state=!0,status_s=!1,window.XMLHttpRequest)status_s=new XMLHttpRequest,status_s.overrideMimeType&&status_s.overrideMimeType("text/html");else if(window.ActiveXObject)try{status_s=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{status_s=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}if(!status_s)return alert("Cannot status_s XMLHTTP instance"),!1;var r="process/process-article-status.php",i="id="+e+"&stat="+t;status_s.open("POST",r,!0),status_s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),status_s.send(i),status_s.onreadystatechange=function(){3==status_s.readyState&&$("#console").html('<i class="fa fa-spinner fa-spin"></i> รอสักครู่...'),4==status_s.readyState&&$("#status-"+e).html(status_s.responseText)}}function modeListArticle(e){if(state=!0,$("#list").fadeOut(100),mode=!1,window.XMLHttpRequest)mode=new XMLHttpRequest,mode.overrideMimeType&&mode.overrideMimeType("text/html");else if(window.ActiveXObject)try{mode=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{mode=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}if(!mode)return alert("Cannot mode XMLHTTP instance"),!1;var a="process/mode-article.php",r="category="+e;mode.open("POST",a,!0),mode.setRequestHeader("Content-type","application/x-www-form-urlencoded"),mode.send(r),mode.onreadystatechange=function(){3==mode.readyState,4==mode.readyState&&$("#list").fadeIn(200).html(mode.responseText)},index=5}function searchArticle(e){if(state=!1,search=!1,window.XMLHttpRequest)search=new XMLHttpRequest,search.overrideMimeType&&search.overrideMimeType("text/html");else if(window.ActiveXObject)try{search=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{search=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}if(!search)return alert("Cannot search XMLHTTP instance"),!1;var a="process/process-article-search.php",r="q="+e;search.open("POST",a,!0),search.setRequestHeader("Content-type","application/x-www-form-urlencoded"),search.send(r),search.onreadystatechange=function(){3==search.readyState&&$("#console").html('<i class="fa fa-spinner fa-spin"></i> รอสักครู่...'),4==search.readyState&&$("#list").html(search.responseText)},index=5,console.log("set index = 5"),""==e&&(modeListArticle(),state=!0)}function loadingArticle(e,t){if(state=!0,loading=!1,$("#loadingProcess").slideDown("fast"),window.XMLHttpRequest)loading=new XMLHttpRequest,loading.overrideMimeType&&loading.overrideMimeType("text/html");else if(window.ActiveXObject)try{loading=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{loading=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}if(!loading)return alert("Cannot loading XMLHTTP instance"),!1;var r="process/process-article-loading.php",i="start="+t+"&category="+e;loading.open("POST",r,!0),loading.setRequestHeader("Content-type","application/x-www-form-urlencoded"),loading.send(i),loading.onreadystatechange=function(){3==loading.readyState,4==loading.readyState&&($("#list").append(loading.responseText),console.log("start:"+t),index+=5,$("#loadingProcess").slideUp("fast"))}}function toSelectArticle(e){if(state=!0,$("#result").fadeOut(100),document.getElementById("loading-"+e).innerHTML='<i class="fa fa-spinner fa-spin"></i>',editForm=!1,window.XMLHttpRequest)editForm=new XMLHttpRequest,editForm.overrideMimeType&&editForm.overrideMimeType("text/html");else if(window.ActiveXObject)try{editForm=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{editForm=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}if(!editForm)return alert("Cannot editForm XMLHTTP instance"),!1;var a="process/edit-article.php",r="id="+e;editForm.open("POST",a,!0),editForm.setRequestHeader("Content-type","application/x-www-form-urlencoded"),editForm.send(r),editForm.onreadystatechange=function(){3==editForm.readyState,4==editForm.readyState&&(document.getElementById("loading-"+e).innerHTML="",$("#result").fadeIn(200).html(editForm.responseText))}}function toCreateArticle(){if(state=!0,createForm=!1,window.XMLHttpRequest)createForm=new XMLHttpRequest,createForm.overrideMimeType&&createForm.overrideMimeType("text/html");else if(window.ActiveXObject)try{createForm=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{createForm=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}if(!createForm)return alert("Cannot createForm XMLHTTP instance"),!1;var t="process/process-article-createform.php",a="id=0";createForm.open("POST",t,!0),createForm.setRequestHeader("Content-type","application/x-www-form-urlencoded"),createForm.send(a),createForm.onreadystatechange=function(){3==createForm.readyState,4==createForm.readyState&&$("#result").fadeIn(200).html(createForm.responseText)}}var create=!1,edit=!1,createForm=!1,editForm=!1,example=!1,loading=!1,mode=!1,search=!1,status_s=!1,index=5,state=!0;$(window).scroll(function(){$(window).scrollTop()+$(window).height()>=$(document).height()-50&&state&&loadingArticle($("#categoryMode").val(),index)});